<nz-card nzTitle="Manage Progress">
  <form nz-form [formGroup]="progressForm">
    <nz-form-item>
      <nz-form-label nzRequired>User</nz-form-label>
      <nz-form-control nzErrorTip="User is required">
        <nz-select formControlName="userId" (ngModelChange)="loadProgress()">
          <nz-option *ngFor="let user of users" [nzValue]="user.userId" [nzLabel]="user.username"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>Lesson</nz-form-label>
      <nz-form-control nzErrorTip="Lesson is required">
        <nz-select formControlName="lessonId">
          <nz-option *ngFor="let lesson of lessons" [nzValue]="lesson.lessonId" [nzLabel]="lesson.title"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>Skill</nz-form-label>
      <nz-form-control nzErrorTip="Skill is required">
        <nz-select formControlName="skill">
          <nz-option *ngFor="let skill of skills" [nzValue]="skill" [nzLabel]="skill"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>Status</nz-form-label>
      <nz-form-control nzErrorTip="Status is required">
        <nz-select formControlName="status">
          <nz-option *ngFor="let status of statuses" [nzValue]="status" [nzLabel]="status"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>Completion %</nz-form-label>
      <nz-form-control nzErrorTip="Valid percentage required">
        <nz-input-number formControlName="completionPercentage" [nzMin]="0" [nzMax]="100"></nz-input-number>
      </nz-form-control>
    </nz-form-item>
    <button nz-button nzType="primary" (click)="updateProgress()">Update Progress</button>
  </form>
  <nz-table #basicTable [nzData]="progressList" [nzLoading]="!progressList.length">
    <thead>
      <tr>
        <th>User</th>
        <th>Lesson</th>
        <th>Skill</th>
        <th>Status</th>
        <th>Completion %</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let progress of basicTable.data">
        <td>{{ progress.user.username }}</td>
        <td>{{ progress.lesson.title }}</td>
        <td>{{ progress.skill }}</td>
        <td>{{ progress.status }}</td>
        <td>{{ progress.completionPercentage }}</td>
      </tr>
    </tbody>
  </nz-table>
</nz-card>
