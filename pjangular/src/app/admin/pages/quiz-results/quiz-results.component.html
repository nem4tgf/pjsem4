<nz-card nzTitle="Manage Quiz Results">
  <form nz-form [formGroup]="resultForm">
    <nz-form-item>
      <nz-form-label nzRequired>User</nz-form-label>
      <nz-form-control nzErrorTip="User is required">
        <nz-select formControlName="userId" (ngModelChange)="loadResults()">
          <nz-option *ngFor="let user of users" [nzValue]="user.userId" [nzLabel]="user.username"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>Quiz</nz-form-label>
      <nz-form-control nzErrorTip="Quiz is required">
        <nz-select formControlName="quizId">
          <nz-option *ngFor="let quiz of quizzes" [nzValue]="quiz.quizId" [nzLabel]="quiz.title"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>Score</nz-form-label>
      <nz-form-control nzErrorTip="Valid score required">
        <nz-input-number formControlName="score" [nzMin]="0" [nzMax]="100"></nz-input-number>
      </nz-form-control>
    </nz-form-item>
    <button nz-button nzType="primary" (click)="saveResult()">Save Result</button>
  </form>
  <nz-table #basicTable [nzData]="results" [nzLoading]="!results.length">
    <thead>
      <tr>
        <th>User</th>
        <th>Quiz</th>
        <th>Score</th>
        <th>Completed At</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let result of basicTable.data">
        <td>{{ result.user.username }}</td>
        <td>{{ result.quiz.title }}</td>
        <td>{{ result.score }}</td>
        <td>{{ result.completedAt }}</td>
      </tr>
    </tbody>
  </nz-table>
</nz-card>
