<nz-card nzTitle="Manage Flashcards">
  <form nz-form [formGroup]="flashcardForm">
    <nz-form-item>
      <nz-form-label nzRequired>User</nz-form-label>
      <nz-form-control nzErrorTip="User is required">
        <nz-select formControlName="userId" (ngModelChange)="loadFlashcards()">
          <nz-option *ngFor="let user of users" [nzValue]="user.userId" [nzLabel]="user.username"></nz-option>
          <nz-option *ngIf="!users.length" nzDisabled nzLabel="No users available"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>Lesson</nz-form-label>
      <nz-form-control>
        <nz-input-number [(ngModel)]="selectedLessonId" [ngModelOptions]="{standalone: true}" (ngModelChange)="loadFlashcards()"></nz-input-number>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>Vocabulary</nz-form-label>
      <nz-form-control nzErrorTip="Vocabulary is required">
        <nz-select formControlName="wordId">
          <nz-option *ngFor="let vocab of vocabulary" [nzValue]="vocab.wordId" [nzLabel]="vocab.word"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>Is Known</nz-form-label>
      <nz-form-control>
        <nz-switch formControlName="isKnown"></nz-switch>
      </nz-form-control>
    </nz-form-item>
    <button nz-button nzType="primary" (click)="markFlashcard()">Mark Flashcard</button>
  </form>
  <nz-table #basicTable [nzData]="flashcards" [nzLoading]="!flashcards.length">
    <thead>
      <tr>
        <th>User</th>
        <th>Word</th>
        <th>Is Known</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let flashcard of basicTable.data">
        <td>{{ getUserName(flashcard.userId) }}</td>
        <td>{{ getWord(flashcard.wordId) }}</td>
        <td>{{ flashcard.isKnown ? 'Yes' : 'No' }}</td>
      </tr>
    </tbody>
  </nz-table>
</nz-card>
